
<!-- Esta lista muestra los errores de las validaciones de los campos pero desde el backend. La diferencia es que valida luego de hacer una petición -->

<!-- <div class="container">
  <ul class="alert alert-danger" *ngIf="errores?.length>0">
    <li *ngFor="let err of errores">
      {{err}}
    </li>
  </ul>
</div> -->


<div class="container">
  <h1 class="card-title">{{titulo}}</h1>
  <div class="card-body">

    <form #profesorForm="ngForm">
      <div class="form-group row">
        <label for="nombre" class="col-form-label col-sm-2">Nombre</label>
        <div class="col-sm-6">
          <input type="text" class="form-control" name="nombre" [(ngModel)]="profesor.nombre" required minlength="4" maxlength="20" #nombre="ngModel">

          <div class="alert alert-danger" *ngIf="nombre.invalid && (nombre.dirty || nombre.touched)" >
            <div *ngIf="nombre.errors.required">
              Nombre es requerido
            </div>
            <div *ngIf="nombre.errors.minlength || nombre.errors.maxlength">
              Nombre debe tener entre 4 y 20 caracteres
            </div>
          </div>
        </div>
      </div>

      <div class="form-group row">
        <label for="email" class="col-form-label col-sm-2">Email</label>
        <div class="col-sm-6">
          <input type="email" class="form-control" [(ngModel)]="profesor.email" name="email" required email #email="ngModel" >
          <div class="alert alert-danger" *ngIf="email.invalid && (email.dirty || email.touched)" >
            <div *ngIf="email.errors.required">
              Email es requerido
            </div>
            <div *ngIf="email.errors.email">
              Email debe tener un formato válido
            </div>
          </div>
        </div>
      </div>

      <div class="form-group row">
        <label for="experiencia" class="col-form-label col-sm-2">Experiencia</label>
        <div class="col-sm-6">
          <input type="number" class="form-control" name="experiencia" [(ngModel)]="profesor.experiencia" >
        </div>

      </div>
      <div class="form-group row">
        <label for="naciemiento" class="col-form-label col-sm-2">Fecha de naciemiento</label>
        <div class="col-sm-6">
          <input type="date" class="form-control" name="nacimiento" [(ngModel)]="profesor.fecha_nacimiento" >
        </div>

      </div>

      <button class="btn btn-success" role="button" (click)="createProfesor()" *ngIf="!profesor.id_profesor else elseBlock" [disabled]="!profesorForm.valid" >Registrar</button>

      <ng-template #elseBlock >
        <button class="btn btn-success" role="button" (click)="updateProfesor()" [disabled]="!profesorForm.valid" >Actualizar</button>
      </ng-template>

    </form>
  </div>


</div>

